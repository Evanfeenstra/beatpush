function getPosition(e){for(var s=0,t=0;e;)s+=e.offsetLeft-e.scrollLeft+e.clientLeft,t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:s,y:t}}function effectDropChange(e){Beats.effect_selected=e;var s=bc.$.thing,t=bc.$.fx_ui1,a=bc.$.fx_ui2,o=bc.sample_selected+1;bc.set_translate(s,0),"pf"==e?(t.innerHTML="Pitch: ",a.innerHTML="Fade: ",bc.x_pos=Beats.FX.pitch[o],bc.y_pos=Beats.FX.gain[o],s.style.transition="left 0s ease-in, top 0s ease-in",s.style.borderRadius="10px",s.style.height="10px",s.style.width="10px",s.style.border="5px solid "+color_array[o],s.style.left=scaleToX(Beats.FX.pitch[o])+"px",s.style.top=scaleToY(Beats.FX.gain[o])+"px"):"pc"==e?(t.innerHTML="Pan: ",a.innerHTML="Crush: ",bc.x_pos=Beats.FX.pan[o],bc.y_pos=Beats.FX.crush[o],s.style.transition="left 0s ease-in, top 0s ease-in",s.style.borderRadius="0px",s.style.height="8px",s.style.width="8px",s.style.border="5px solid "+color_array[o],s.style.left=scaleToX(Beats.FX.pan[o])+"px",s.style.top=scaleToY(Beats.FX.crush[o])+"px"):"d"==e&&(t.innerHTML="Repeat: ",a.innerHTML="Time: ",bc.x_pos=Beats.FX.delay_fb[o],bc.y_pos=Beats.FX.delay_time[o],s.style.transition="left 0s ease-in, top 0s ease-in",s.style.borderRadius="7px",s.style.height="0px",s.style.width="0px",s.style.border="9px double "+color_array[o],s.style.left=scaleToX(Beats.FX.delay_fb[o])+"px",s.style.top=scaleToY(Beats.FX.delay_time[o])+"px"),toggleThingYellow(o,e,s),window.scroll(0,0)}function play_yo_yo(e,s){Synth.setting=Beats.setting,play_yo_yoS(s),0==Beats.setting?(Beats.id_yo[Beats.setting].style.boxShadow="none",Beats.id_yo[Beats.setting].style.opacity="1.0",Beats.id_yo[Beats.id_yo.length-1].style.boxShadow="2px 2px 10px #444",Beats.id_yo[Beats.id_yo.length-1].style.opacity="0.6"):(Beats.id_yo[Beats.setting].style.boxShadow="none",Beats.id_yo[Beats.setting].style.opacity="1.0",Beats.id_yo[Beats.setting-1].style.boxShadow="2px 2px 10px #444",Beats.id_yo[Beats.setting-1].style.opacity="0.6");var t=Audiocontext.currentTime,a=Beats.beats_array[Beats.setting];0!=a&&playSound(bufferListy[a-1],t,a);var o=Beats.beats_array2[Beats.setting];0!=o&&playSound(bufferListy[o-1],t,o),document.dispatchEvent(goEvent),Beats.setting=Beats.setting+1,Beats.setting>31&&(Beats.setting=0)}function shuffleDelayNodes(e){Beats.FX.delay_time[e]>0&&0==Beats.delay_on[e]?(1==Beats.crush_on[e]?Beats.crush_nodes[e].connect(Beats.delay_nodes[e]):1==Beats.pan_on[e]?Beats.pan_nodes[e].connect(Beats.delay_nodes[e]):Beats.gain_nodes[e].connect(Beats.delay_nodes[e]),Beats.delay_nodes[e].connect(Beats.filter_yo),Beats.delay_on[e]=!0,console.log("delay "+e+" on"),shuffleDelayFbNodes(e)):Beats.FX.delay_time[e]>0&&1==Beats.delay_on[e]?shuffleDelayFbNodes(e):1==Beats.delay_on[e]&&(1==Beats.crush_on[e]?(Beats.crush_nodes[e].disconnect(),Beats.crush_nodes[e].connect(Beats.filter_yo)):1==Beats.pan_on[e]?(Beats.pan_nodes[e].disconnect(),Beats.pan_nodes[e].connect(Beats.filter_yo)):(Beats.gain_nodes[e].disconnect(),Beats.gain_nodes[e].connect(Beats.filter_yo)),Beats.delay_on[e]=!1,console.log("delay "+e+" off"),shuffleDelayFbNodes(e))}function shuffleDelayFbNodes(e){0!=Math.abs(Beats.FX.delay_fb[e])&&0==Beats.delay_fb_on[e]&&1==Beats.delay_on[e]?(Beats.delay_nodes[e].connect(Beats.delay_fb_nodes[e]),Beats.delay_fb_nodes[e].connect(Beats.delay_nodes[e]),Beats.delay_fb_on[e]=!0,console.log("delay feedback on")):0!=Math.abs(Beats.FX.delay_fb[e])&&1==Beats.delay_fb_on[e]&&1==Beats.delay_on[e]||(Beats.delay_nodes[e].disconnect(),Beats.delay_fb_nodes[e].disconnect(),Beats.delay_nodes[e].connect(Beats.filter_yo),Beats.delay_fb_on[e]=!1,console.log("delay feedback off"))}function shuffleCrushNodes(e){Beats.FX.crush[e]>30?0==Beats.crush_on[e]&&(0==Beats.pan_on[e]?(Beats.gain_nodes[e].disconnect(),Beats.gain_nodes[e].connect(Beats.crush_nodes[e])):(Beats.pan_nodes[e].disconnect(),Beats.pan_nodes[e].connect(Beats.crush_nodes[e])),Beats.crush_nodes[e].curve=makeDistortionCurve(2*Beats.FX.crush[e]-35),1==Beats.delay_on[e]&&Beats.crush_nodes[e].connect(Beats.delay_nodes[e]),Beats.crush_nodes[e].connect(Beats.filter_yo),Beats.crush_on[e]=!0,console.log("crush "+e+" connected")):1==Beats.crush_on[e]&&(1==Beats.pan_on[e]?(Beats.pan_nodes[e].disconnect(),Beats.pan_nodes[e].connect(Beats.filter_yo)):(Beats.gain_nodes[e].disconnect(),Beats.gain_nodes[e].connect(Beats.filter_yo)),1==Beats.delay_on[e]&&(1==Beats.pan_on[e]?Beats.pan_nodes[e].connect(Beats.delay_nodes[e]):Beats.gain_nodes[e].connect(Beats.delay_nodes[e])),Beats.crush_on[e]=!1,console.log("crush "+e+" disconnected"))}function shufflePanNodes(e){0!=Beats.FX.pan[e]?0==Beats.pan_on[e]&&(Beats.gain_nodes[e].disconnect(),Beats.gain_nodes[e].connect(Beats.pan_nodes[e]),0==Beats.crush_on[e]&&0==Beats.delay_on[e]?Beats.pan_nodes[e].connect(Beats.filter_yo):0==Beats.crush_on[e]?(Beats.pan_nodes[e].connect(Beats.delay_nodes[e]),Beats.pan_nodes[e].connect(Beats.filter_yo)):Beats.pan_nodes[e].connect(Beats.crush_nodes[e]),Beats.pan_on[e]=!0,console.log("pan "+e+" connected")):1==Beats.pan_on[e]&&(Beats.gain_nodes[e].disconnect(),0==Beats.crush_on[e]&&0==Beats.delay_on[e]?Beats.gain_nodes[e].connect(Beats.filter_yo):0==Beats.crush_on[e]?(Beats.gain_nodes[e].connect(Beats.delay_nodes[e]),Beats.gain_nodes[e].connect(Beats.filter_yo)):Beats.gain_nodes[e].connect(Beats.crush_nodes[e]),Beats.pan_on[e]=!1,console.log("pan "+e+" disconnected"))}function toggleThingYellow(e,s,t){"pf"==s?0==Beats.is_animating_pitch[e]?t.style.backgroundColor="whitesmoke":t.style.backgroundColor="#ff0":"pc"==s&&(0==Beats.is_animating_pan[e]?t.style.backgroundColor="whitesmoke":t.style.backgroundColor="#ff0"),"d"==s&&(0==Beats.is_animating_feedback[e]?t.style.backgroundColor="whitesmoke":t.style.backgroundColor="#ff0")}function toggleToggle(e,s,t){"pf"==s?0==Beats.is_animating_pitch[e]?t.$.anim.checked=!1:t.$.anim.checked=!0:"pc"==s&&(0==Beats.is_animating_pan[e]?t.$.anim.checked=!1:t.$.anim.checked=!0),"d"==s&&(0==Beats.is_animating_feedback[e]?t.$.anim.checked=!1:t.$.anim.checked=!0)}compressorDropChange=function(e){0==e?(Beats.compressor_yo.knee.value=40,Beats.compressor_yo.ratio.value=12):1==e?(Beats.compressor_yo.knee.value=40,Beats.compressor_yo.ratio.value=4):2==e?(Beats.compressor_yo.knee.value=40,Beats.compressor_yo.ratio.value=48):3==e?(Beats.compressor_yo.knee.value=6,Beats.compressor_yo.ratio.value=12):4==e?(Beats.compressor_yo.knee.value=6,Beats.compressor_yo.ratio.value=4):5==e&&(Beats.compressor_yo.knee.value=6,Beats.compressor_yo.ratio.value=48),Beats.compressor_dropdown_selected=e,window.scroll(0,0)},filterDropChange=function(e){Beats.filter_dropdown_selected=e,0==e?(Beats.filter_yo.type="lowpass",Beats.filter_yo.Q.value=4):1==e?(Beats.filter_yo.type="highpass",Beats.filter_yo.Q.value=4):2==e?(Beats.filter_yo.type="lowpass",Beats.filter_yo.Q.value=12):3==e?(Beats.filter_yo.type="highpass",Beats.filter_yo.Q.value=12):4==e?(Beats.filter_yo.type="lowpass",Beats.filter_yo.Q.value=24):5==e&&(Beats.filter_yo.type="highpass",Beats.filter_yo.Q.value=24),window.scroll(0,0)},reverbDropChange=function(e){Beats.convolver_yo.buffer=bufferListy[e+8],Beats.reverb_dropdown_selected=e,window.scroll(0,0),resize()};var goEvent=new CustomEvent("go",{}),div_array=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","za","zb","zc","zd","ze","zf"],color_array=["rgb(187, 187, 204)","rgb(92, 107, 192)","rgb(255, 152, 0)","rgb(76, 175, 80)","rgb(33, 150, 243)","rgb(158, 224, 3)","rgb(171, 71, 188)","rgb(239, 83, 80)","rgb(141, 110, 99)"];