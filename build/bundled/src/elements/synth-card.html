<html><head><link rel="import" href="../bower_components/polymer/polymer.html">

</head><body><dom-module id="synth-card">

  <style>

    :host {
      display: block;
      position: relative;
      width: 100%;
      height: 100%;
      font-size: 2em;
      font-weight: 300;
      background-color: #E5E5E5;
    }
    paper-tab{
      --paper-tab-content-unselected: {
        min-height: 0;
        min-width: 0;
      };
      --paper-tab-content: {
        min-height: 0;
        min-width: 0;
      };
    }
    ul {
      padding: 0;
      list-style-type: none;
      margin: 0 0;
    }
    paper-slider{
      max-width:91%;
    }
    #synth_container {
      height: 100% !important;
      width: 100%;
    }
    .hundo {
    	width: 100%;
    	height: 100% !important;
    }
    .synthy_container {
      background-color: rgba(168,168,168,0.4);
      width:100%;
      height: 100% !important;
      -webkit-touch-callout: none;
      -webkit-user-select: none; 
      -moz-user-select: none; 
      -ms-user-select: none; 
      -o-user-select: none; 
      user-select: none;
    }
    #innertabsS{
     background-color: rgba(34,34,34,0.65);
     /*height: 1.75rem;
     width: 14rem;*/
     width: 100%;
     color: white;
     font-size: .5em;
     height: 15%;
   }

   #tabsamplesS {
   	height: 100%;
   	background-color: rgba(255, 255, 255, 0.8);
   }
   .vtab{
   	outline: 1pt solid rgba(0,0,0,0.4);
   	font-size:1em;
   }
   /*paper-vertical-tabs.vert::shadow #selectionBar {
   	position: relative;
   	z-index: 1;
   	opacity: 1;
   }
   paper-tab.vtab::shadow .tab-content {
   	margin:34%;
   }*/
   .spanny {
    font-size: 0.5em;
    padding: 0 10% 0 6%;
    min-height: 0;
  }
 .fx .spanny {
  height: 0px;
  }
  .sliders{
    padding: 13% 10px 7px 10px;
  }
  .fx{
    padding: 2px 8px 2px 8px;
    width: 78%;
  }
  .downlabel {
  	max-width: 40%;
  }
  .dropdwn {
    margin: 0px 0px;
    -moz-appearance: none;
    -webkit-appearance: none; 
    appearance: none;
    border-radius: 0px;
    font-family: 'RobotoDraft', sans-serif;
    font-size: 1em;
    background-color: rgba(34,34,34,0.0);
    border: 0px;
    border-bottom: 1px solid #777;
    padding-right:20%;
    max-width: 100%;
    overflow:hidden;
    cursor: pointer; cursor: hand;
  }
  label {position:relative}
  label:after {
    content:'>';
    font:1em 'RobotoDraft', monospace;
    color:#777;
    -webkit-transform:rotate(90deg);
    -moz-transform:rotate(90deg);
    -ms-transform:rotate(90deg);
    transform:rotate(90deg);
    right:0px;
    position:absolute;
    pointer-events:none;
  }
  #sample_dropdwnS {
    margin-bottom: 8%;
  }
  #xy_bounderS {
  	border: 5px solid;
  	border-color: rgb(92, 107, 192);
  	border-radius: 5px;
 	  margin: 5% 0 4% 0;
 	  height: 100%;
    min-height: 0;
  }
  #xyS {
    position: relative;
  	border: 1px solid;
  	border-color: rgb(92, 107, 192);
  	background-color: rgba(34,34,34,0.4);
    width: 100%;
    height: 100%;
    min-height: 0;
    margin:0px;
    overflow: hidden;
  }
  #xyS::shadow .button-content {
    padding: 0;
  }
  .modsvg{
    position: absolute;
    /*margin-left: -50%;*/
    top:0px;
    left:0px;
  }
  #playline{
  	transition: margin-left .5s;
  }
  #lfosvg {
  	display: block;
  }
  #arpsvg {
  	display: none;
  }
  #ahsvg {
  	display: none;
  }
  #adsrsvg {
    display: none;
  }
  #thingS {
    /*top: 106px;*/
    position: absolute;
    transition: left .2s ease-in, top .2s ease-in;
    height: 10px;
    width: 10px;
    border: 5px solid;
    border-color: rgb(92, 107, 192);
    border-radius: 10px;
    background-color: whitesmoke;
  }
  #fx_svg1S {
  	width:10%; 
    min-width: 10px;
  	height:100%;
  }
  #fx_svg2S {
  	width: 20%;
    min-width: 20px;
  	height: 100%;
  }

  /*paper-slider::shadow #sliderContainer {
      height: 36px;
      width: 75%;
    }
    paper-slider::shadow #sliderBar {
      padding: 8px 0px;
      color: rgba(255,255,255,1) !important;
    }
    paper-slider::shadow #sliderKnob {
      height: 32px;
    }*/

  #synth_row_1 {
    width: 80%;
    margin: auto;
    /*background-color: #ccc;*/
  }
  #synth_row_3 {
    width: 80%;
    margin: auto;
    /*background-color: #ccc;*/
  }
  #synth_row_2 {
    /*background-color: #ccc;*/
  }
  #synth_row_4 {
    /*background-color: #ccc;*/
  }
  .sS{
  	background-color: #bbc;
  	border: 1px solid #ccc;
  	opacity: 0.6;
  	cursor: default;
  	box-shadow: 2px 2px 10px #444;
    border-radius: 50%;
    margin:0;
    padding:0;
    min-height: 0;
    min-width: 0;
  }
  paper-button.s::shadow .button-content {
    display: none;
  }
  .box {
    overflow: hidden;
    border-radius: 0;
    font-size: .75rem;
    -ms-flex: 1;
    -webkit-flex: 1;
    flex: 1;
    margin:1px;
    box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.4);
  }
  #synth_central_container{
    /*background: radial-gradient(#222,#eee);*/ 
    -webkit-touch-callout: none;
      -webkit-user-select: none; 
      -moz-user-select: none; 
      -ms-user-select: none; 
      -o-user-select: none; 
      user-select: none;
  }
  #middle_containerS {
  	margin:10%;
  	height: 100%;
  }
  drag-avatar {
    position: fixed;
    left: 0;
    top: 0;
    display: block;
    pointer-events: none;
  }
  paper-button {
    min-width: 1em;
  }
  .svgmargin{
    margin:5px;
    min-height:1.3rem;
    min-width:.66rem;
  }
  .octavia{
    padding:0;
    margin:7px;
  }

  #modspanny1S{
    margin:5% 0 0 0;
   }
   #modspanny2S{
    margin:-.7% 0 2% 0; 
    padding-right:12px;
   }
  /*PHONES*/
  @media (max-width: 399px), (max-height: 399px) {
     /*paper-slider::shadow #sliderContainer {
      height: 10px;
      width: 55%;
      margin: -12% 0 2% 0;
    }
    paper-slider::shadow #sliderBar {
      padding: 0px;
    }
    paper-slider::shadow #sliderKnob {
      height: 16px;
    }
    .sliders{
      padding: 6px 10px 7px 10px;
    }*/
    #innertabsS{
     font-size: .3em;
   }
   .spanny {
    font-size: .4em;
  }
  .vtab{
    font-size:.7em;
    padding:3px;
   }
   .svgmargin{
    margin:5px;
    min-height:1rem;
    min-width:.66rem;
   }
   #modspanny1S{
    margin: 2% 0 2% 0;
   }
   #modspanny2S{
    margin: -2.7% 0 2% 0;
   }

  }




  
</style>


<template>
  <div class="vertical layout" id="synth_container">




    <ul class="flex-1 layout horizontal" id="synth_row_1">
      <paper-button id="a2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="b2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="c2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="d2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="e2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="f2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="g2" class="sS flex" on-tap="show_spot"></paper-button>
      <paper-button id="h2" class="sS flex" on-tap="show_spot"></paper-button>
    </ul>
    <div class="layout horizontal flex-8" id="synth_inner_container">
      <ul class="flex-1 layout vertical-reverse" id="synth_row_4">
        <paper-button id="y2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="z2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="za2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="zb2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="zc2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="zd2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="ze2" class="sS flex" on-tap="show_spot"></paper-button>
        <paper-button id="zf2" class="sS flex" on-tap="show_spot"></paper-button>
      </ul>
      <div class="layout center flex-8" id="synth_central_container">


        <div class="vertical layout center" id="middle_containerS">
	        <paper-tabs class="horizontal layout" id="innertabsS" selected="0">
	          <paper-tab class="flex" name="0" id="notetab">Note</paper-tab>
	          <paper-tab class="flex" name="1" id="fxtabS">FX</paper-tab>
	          <paper-tab class="flex" name="2" id="modtabS">Mod</paper-tab>
            
	        </paper-tabs>

          <neon-animated-pages id="innerpagesS" style="height:85%;width:100%" selected="0" entry-animation="fade-in-animation" exit-animation="scale-down-animation">

	        <neon-animatable class="hundo flex">
	          <div class="flex vertical layout synthy_container" unselectable="on" onselectstart="return false;" touch-action="none">
	            <div class="flex horizontal layout">
	              <paper-button class="box flex" style="background-color: #FB3F00" on-track="handleTrack" on-up="stop_note" on-down="play_note1" onmousedown="return false;" on-trackend="dragEnd" id="firstboxS">tone</paper-button>
	              <paper-button class="flex box" style="background-color: #0389F4" on-track="handleTrack" on-up="stop_note" on-down="play_note2" on-trackend="dragEnd">2nd</paper-button>
	              <paper-button class="flex box" style="background-color: #E26489" on-track="handleTrack" on-up="stop_note" on-down="play_note3" on-trackend="dragEnd">3rd</paper-button>
	            </div>
	            <div class="flex horizontal layout">
	              <paper-button class="flex box" style="background-color: #669922" on-track="handleTrack" on-up="stop_note" on-down="play_note4" on-trackend="dragEnd" id="fourthboxS">4th</paper-button>
	              <paper-button class="flex box" style="background-color: #bbc" on-track="handleTrack">erase</paper-button>
	              <paper-button class="flex box" style="background-color: #00B2A2" on-track="handleTrack" on-up="stop_note" on-down="play_note5" on-trackend="dragEnd">5th</paper-button>
	            </div>
	            <div class="flex horizontal layout">
	              <paper-button class="flex box" style="background-color: #D29715" on-track="handleTrack" on-up="stop_note" on-down="play_note6" on-trackend="dragEnd">6th</paper-button>
	              <paper-button class="flex box" style="background-color: #947CFF" on-track="handleTrack" on-up="stop_note" on-down="play_note7" on-trackend="dragEnd">7th</paper-button>
	              <paper-button class="flex box" style="background-color: #FFE81C" on-track="handleTrack" on-up="stop_note" on-down="play_note8" on-trackend="dragEnd">octave</paper-button>
	            </div>
	          </div>
	        </neon-animatable>
        

        <neon-animatable class="hundo flex">
          <div class="vertical layout synthy_container">
          <div class="flex vertical layout around-justified sliders">

          <div class="flex" style="min-height:0">
           <div class="horizontal layout justified spanny"><span style="white-space: nowrap">Reverb: <b>{{reverb_setting}}</b></span>
            <label class="downlabel"><select id="reverbselectS" class="dropdwn" onchange="reverbdropChangeS(this.selectedIndex);">
             <option>digital short</option>
             <option>digital long</option>
             <option>church</option>
             <option>factory</option>
             <option>hall</option>
             <option>spring</option>
             <option>bucket</option>
             <option>djembe</option>
             <option>echo</option>
             <option>pot</option>
             <option>telephone</option>
             <option>vacuum</option>
            </select></label>
           </div>
         <paper-slider pin="" value="30" on-immediate-value-change="REchange" on-value-change="REchange" id="verbsliderS"></paper-slider>
         </div>
      
          <div class="flex" style="min-height:0">
             <div class="horizontal layout justified spanny"><span style="white-space: nowrap">Filter: <b>{{filter_cutoff}}</b></span>
              <label class="downlabel"><select class="dropdwn" onchange="filterdropChangeS(this.selectedIndex);">
               <option selected="">lowpass</option>
               <option>lowpass, Q</option>
               <option>lowpass, high Q</option>
              </select></label>
           	</div>
         <paper-slider pin="" value="45" on-immediate-value-change="FCchange" on-value-change="FCchange" id="fsliderS"></paper-slider>
         </div>
        
        	<div class="flex" style="min-height:0">
             <div class="horizontal layout justified spanny"><span style="white-space: nowrap">Scale: <b>{{scale_setting_letters}}</b></span>
               <label class="downlabel"><select id="scaledropdown" class="dropdwn" onchange="scaledropChangeS(this.selectedIndex);">
                <option selected="">major</option>
                <option>minor</option>
                <option>dorian</option>
                <option>mixolydian</option>
                <option>phrygian</option>
                <option>lydian</option>
               </select></label>
             </div>
             <paper-slider value="30" on-immediate-value-change="SCchange" on-value-change="SCchange" id="scaleslider"></paper-slider>
            </div>

       </div>
      </div>
     </neon-animatable>

   <neon-animatable class="hundo flex">
   	
      <div class="horizontal layout synthy_container">

       <div class="fx flex-6 vertical layout around-justified">
       	<div id="modspanny1S" class="flex-1 horizontal layout justified spanny">
                    
   	    <label><select class="dropdwn" id="sample_dropdwnS" onchange="moddropChange(this.value);" name="type">
           <option selected="" value="lfo">Wobble</option>
           <option value="ah">Auto-harmony</option>
           <option value="adsr">Attack / Decay</option>
           <option value="osc1">Oscillator #1</option>
           <option value="osc2">Oscillator #2</option>
         </select></label>

        </div>

       <div class="flex-8 vertical layout" id="xy_bounderS">
        
       <paper-button style="overflow:hidden" class="flex" onclick="return false;" on-up="getClickPosition" on-track="getClickPosition" on-down="hear_a_note" id="xyS">
        <svg class="modsvg" id="lfosvg" viewBox="0 0 300 100" preserveAspectRatio="none" style$="{{lfostyle}}"> 
          <polyline id="lfopolyline" points="0,100 25,0 50,100 75,0 100,100 125,0 150,100 175,0 200,100 225,0 250,100 275,0 300,100" fill="rgba(0,0,0,0)" stroke="#765373" stroke-width="3" stroke-linejoin="round"></polyline>
        </svg>
        <svg class="modsvg" id="ahsvg" style$="{{ahstyle}}" viewBox="0 0 301 200" preserveraspectration="none">
        	<line x1="0" y1="194" x2="300" y2="194" stroke="#FB3F00" stroke-width="6"></line>
        	<line id="ahline1" x1="0" y1="200" x2="300" y2="200" stroke="#765373" stroke-width="6" style="display:none"></line>
        	<line id="ahline2" x1="0" y1="200" x2="300" y2="200" stroke="#765373" stroke-width="6" style="display:none"></line>
          <line id="ahline3" x1="0" y1="200" x2="300" y2="200" stroke="#765373" stroke-width="6" style="display:none"></line>
        </svg>
        <svg class="modsvg" id="adsrsvg" style$="{{adsrstyle}}" viewBox="0 0 301 200" preserveAspectRatio="none"><polyline id="adsrpolyline" points="0,200 0,3 25,3 290,3 300,200" fill="rgba(0,0,0,0.1)" stroke="#765373" stroke-width="3"></polyline>
        </svg>
        <svg class="modsvg" id="playline" viewBox="0 0 301 200" preserveraspectration="none">
        	<line x1="0" y1="0" x2="0" y2="200" stroke="yellow" stroke-width="1">
        </line></svg>
        <div id="thingS"></div>
       </paper-button>
       
       </div>

       <div id="modspanny2S" class="flex-1 horizontal layout around-justified spanny">
       		
       		<span style="white-space: nowrap" class="horizontal layout center">
       					<svg id="fx_svg1S" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 100" xml:space="preserve">
    					<polyline id="fxxpolyline" style="fill:none;stroke:black;stroke-width:6" stroke-linecap="round" stroke-linejoin="round" points="0.375,20.375 45.63,58.087 0.375,95.8 "></polyline></svg>
            <span id="fx_ui1S" on-tap="fxui1_click" style="cursor: pointer; cursor: hand; margin: 0 5px">Speed: </span><b>{{x_pos}}</b>
          </span>

       		<span style="white-space: nowrap" class="horizontal layout center">
    					<svg id="fx_svg2S" viewBox="0 0 90 50" xml:space="preserve">
    					<polyline style="fill:none;stroke:black;stroke-width:4" stroke-linecap="round" stroke-linejoin="round" points="0.375,38.087 38.087,0.375 75.8,38.087 "></polyline></svg>
       		   <span id="fx_ui2S" on-tap="fxui2_click" style="cursor: pointer; cursor: hand; margin: 0 5px">Amount: </span><b>{{y_pos}}</b>
          </span>

       </div>

       </div>
       
       <paper-vert-tabs align-left="" id="tabsamplesS" class="flex-1 vert self-end" selected="{{mode_selected}}">
          <paper-tab class="vtab" id="t1S" on-tap="play_note" name="1">
          	<svg class="flex svgmargin" id="vtabicon1" viewBox="0,0,50,50" preserveraspectration="none">
          		<polyline points="0,50 25,0 50,50" stroke="#765373" stroke-width="7" fill="rgba(0,0,0,0)"></polyline>
          	</svg><span style="display:none">1</span>
          </paper-tab>
          <paper-tab class="vtab" id="t2S" on-tap="play_note" name="2">
          	<svg class="flex svgmargin" id="vtabicon2" viewBox="0,0,50,50" preserveraspectration="none">
          		<polyline points="0,0 25,50 50,0" stroke="#765373" stroke-width="7" fill="rgba(0,0,0,0)"></polyline>
          	</svg><span style="display:none">2</span>
          </paper-tab>
          <paper-tab class="vtab" id="t3S" on-tap="play_note" name="3">
          	<svg class="flex svgmargin" id="vtabicon3" viewBox="0,0,50,50" preserveraspectration="none">
          		<polyline points="0,0 0,50 50,50 50,0" stroke="#765373" stroke-width="7" fill="rgba(0,0,0,0)"></polyline>
          	</svg><span style="display:none">2</span>
          </paper-tab>
          <paper-tab class="vtab" id="t4S" on-tap="play_note" name="4">
          	<svg class="flex svgmargin" id="vtabicon4" viewBox="0,0,50,50" preserveraspectration="none">
          		<polyline points="0,50 0,0 50,0 50,50" stroke="#765373" stroke-width="7" fill="rgba(0,0,0,0)"></polyline>
          	</svg><span style="display:none">2</span>
          </paper-tab>
          <paper-tab class="vtab" id="t5S" on-tap="play_note" name="5">
          	<svg class="flex svgmargin" id="vtabicon5" viewBox="0,0,50,50" preserveraspectration="none">
          		<polyline points="0,50 50,0 50,50" stroke="#765373" stroke-width="7" fill="rgba(0,0,0,0)"></polyline>
          	</svg><span style="display:none">2</span>
          </paper-tab>
          <paper-tab class="vtab" id="t6S" on-tap="play_note" name="6">
          	<svg class="flex svgmargin" id="vtabicon5" viewBox="0,0,50,50" preserveraspectration="none">
          		<polyline points="0,50 0,0 50,50" stroke="#765373" stroke-width="7" fill="rgba(0,0,0,0)"></polyline>
          	</svg><span style="display:none">2</span>
          </paper-tab>
          
          
      </paper-vert-tabs>
     </div>
   </neon-animatable>

   

   <neon-animatable class="hundo flex">
      <div class="horizontal layout around-justified synthy_container">
        <div class="vertical layout center around-justified">
          <span>Beat # <span>{{spot}}</span></span>
          <span>Octave: <span>{{spot_octave_ui}}</span></span>
            <div class="horizontal layout">
              <span class="vertical layout">
                <paper-icon-button class="octavia" icon="add" on-tap="octave_add"></paper-icon-button>
                <paper-icon-button class="octavia" icon="remove" on-tap="octave_subtract"></paper-icon-button>
              </span>
            </div>
        </div>
      </div>
   </neon-animatable>

   </neon-animated-pages>

</div> 


	</div>
	<ul class="flex-1 layout vertical" id="synth_row_2">
	  <paper-button id="i2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="j2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="k2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="l2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="m2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="n2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="o2" class="sS flex" on-tap="show_spot"></paper-button>
	  <paper-button id="p2" class="sS flex" on-tap="show_spot"></paper-button>
	</ul>
</div>
<ul class="flex-1 layout horizontal-reverse" id="synth_row_3">
  <paper-button id="q2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="r2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="s2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="t2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="u2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="v2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="w2" class="sS flex" on-tap="show_spot"></paper-button>
  <paper-button id="x2" class="sS flex" on-tap="show_spot"></paper-button>
</ul>
</div>


</template>


<script>function getPositionS(t){for(var e=0,s=0;t;)e+=t.offsetLeft-t.scrollLeft+t.clientLeft,s+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:e,y:s}}function scaleToXS(t){var e=sc.xywidth,s=t/(100/e)+1;return s-10}function scaleToYS(t){var e=sc.xyheight,s=t*-1/(100/e)+e-20;return s+sc.xyheight/19}function numberToWave(t){var e;return 0==t?e="tri":1==t?e="sqr":2==t?e="saw":3==t&&(e="sin"),e}function filterdropChangeS(t){0==t?(Synth.filter_yo.type="lowpass",Synth.filter_yo.Q.value=4):1==t?(Synth.filter_yo.type="lowpass",Synth.filter_yo.Q.value=12):2==t&&(Synth.filter_yo.type="lowpass",Synth.filter_yo.Q.value=24),window.scroll(0,0)}function play_yo_yoS(t){0==Synth.setting?(Synth.id_yo[Synth.setting].style.boxShadow="none",Synth.id_yo[Synth.setting].style.opacity="1.0",1==t.spot_circle_selected&&t.spot-1==31?Synth.id_yo[Synth.id_yo.length-1].style.boxShadow="0 0 2pt 1pt black":Synth.id_yo[Synth.id_yo.length-1].style.boxShadow="2px 2px 10px #444",Synth.id_yo[Synth.id_yo.length-1].style.opacity="0.6"):(Synth.id_yo[Synth.setting].style.boxShadow="none",Synth.id_yo[Synth.setting].style.opacity="1.0",1==t.spot_circle_selected&&t.spot-1==Synth.setting-1?Synth.id_yo[Synth.setting-1].style.boxShadow="0 0 2pt 1pt black":Synth.id_yo[Synth.setting-1].style.boxShadow="2px 2px 10px #444",Synth.id_yo[Synth.setting-1].style.opacity="0.6");var e=Synth.synth_array[Synth.setting];until_synth_noteoff+=1,1==until_synth_on&&(1!=until_synth_noteoff&&0==e||t.stop_note()),0!=e?(0==until_synth_on&&t.stop_note(),t.play_voice(e),until_synth_noteoff=until_synth_noteoff_setting):(_S.Osc1Octave=Synth.osc1Octave+Synth.spotOctave[Synth.setting],_S.onOsc1Octave(_S.Osc1Octave))}moddropChange=function(t){Synth.effect_selected=t;var e=sc.$.fx_ui1S,s=sc.$.fx_ui2S,i=sc.$.tabsamplesS,o=sc.$.thingS;if("lfo"==t){sc.mode_selected=sc.lfo_selected-1,sc.$.lfosvg.style.display="block",sc.$.ahsvg.style.display="none",sc.$.adsrsvg.style.display="none",e.innerHTML="Speed: ",s.innerHTML="Depth: ",sc.x_pos=Synth.FX.lfo1,sc.y_pos=Synth.FX.lfo2,o.style.display="block",o.style.transition="left 0s ease-in, top 0s ease-in",o.style.borderRadius="10px",o.style.height="10px",o.style.width="10px",o.style.border="5px solid #5C6BC0",o.style.left=scaleToXS(Synth.FX.lfo1)+"px",o.style.top=scaleToYS(Synth.FX.lfo2)+"px";for(var h=1;h<7;h++)i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].style.display="block",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].childNodes[1].setAttribute("points",lfo_icons_array[h]),i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].style.display="none"}else if("ah"==t){sc.mode_selected=sc.ah_selected-1,sc.$.lfosvg.style.display="none",sc.$.ahsvg.style.display="block",sc.$.adsrsvg.style.display="none",e.innerHTML="Voices: ",s.innerHTML="Octave: ",sc.x_pos=Synth.FX.ah1,sc.y_pos=Synth.FX.ah2,o.style.display="block",o.style.transition="left 0s ease-in, top 0s ease-in",o.style.borderRadius="0px",o.style.height="8px",o.style.width="8px",o.style.border="5px solid #5C6BC0",o.style.left=scaleToXS(Synth.FX.ah1)+"px",o.style.top=scaleToYS(Synth.FX.ah2)+"px";for(var h=1;h<7;h++)i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].style.display="none",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].style.display="block",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].innerHTML=ah_icons_array[h]}else if("adsr"==t){sc.mode_selected=sc.adsr_selected-1,sc.$.lfosvg.style.display="none",sc.$.ahsvg.style.display="none",sc.$.adsrsvg.style.display="block",e.innerHTML="Decay: ",s.innerHTML="Attack: ",sc.x_pos=Synth.FX.adsr1,sc.y_pos=Synth.FX.adsr2,o.style.display="block",o.style.transition="left 0s ease-in, top 0s ease-in",o.style.borderRadius="10px",o.style.height="10px",o.style.width="10px",o.style.border="5px solid #5C6BC0",o.style.left=scaleToXS(Synth.FX.adsr1)+"px",o.style.top=scaleToYS(Synth.FX.adsr2)+"px";for(var h=1;h<7;h++)i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].style.display="block",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].childNodes[1].setAttribute("points",adsr_icons_array[h]),i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].style.display="none"}else if("osc1"==t){sc.mode_selected=sc.osc1_selected-1,sc.$.lfosvg.style.display="none",sc.$.ahsvg.style.display="none",sc.$.adsrsvg.style.display="none",e.innerHTML="Wave: ",s.innerHTML="Fade: ",sc.x_pos=numberToWave(Math.round(Synth.FX.osc1wave/33)),sc.y_pos=Synth.FX.osc1fade,o.style.display="block",o.style.transition="left 0s ease-in, top 0s ease-in",o.style.borderRadius="10px",o.style.height="10px",o.style.width="10px",o.style.border="5px solid #5C6BC0",o.style.left=scaleToXS(Synth.FX.osc1wave)+"px",o.style.top=scaleToYS(Synth.FX.osc1fade)+"px";for(var h=1;h<7;h++)i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].style.display="none",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].style.display="block",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].innerHTML=osc_icons_array[h]}else if("osc2"==t){sc.mode_selected=sc.osc2_selected-1,sc.$.lfosvg.style.display="none",sc.$.ahsvg.style.display="none",sc.$.adsrsvg.style.display="none",e.innerHTML="Wave: ",s.innerHTML="Fade: ",sc.x_pos=numberToWave(Math.round(Synth.FX.osc2wave/33)),sc.y_pos=Synth.FX.osc2fade,o.style.display="block",o.style.transition="left 0s ease-in, top 0s ease-in",o.style.borderRadius="10px",o.style.height="10px",o.style.width="10px",o.style.border="5px solid #5C6BC0",o.style.left=scaleToXS(Synth.FX.osc2wave)+"px",o.style.top=scaleToYS(Synth.FX.osc2fade)+"px";for(var h=1;h<7;h++)i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[2].style.display="none",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].style.display="block",i.childNodes[3].childNodes[1].childNodes[h].childNodes[1].childNodes[3].innerHTML=osc_icons_array[h]}window.scroll(0,0)},scaledropChangeS=function(t){Synth.scale_dropdown_selected=t,0==t?sc.scale=scale_array.major:1==t?sc.scale=scale_array.minor:2==t?sc.scale=scale_array.dorian:3==t?sc.scale=scale_array.mixolydian:4==t?sc.scale=scale_array.phrygian:5==t&&(sc.scale=scale_array.lydian),Synth.scale=sc.scale,window.scroll(0,0)},reverbdropChangeS=function(t){Synth.convolver_yo.buffer=bufferListy[t+8],Synth.reverb_dropdown_selected=t,window.scroll(0,0)};var until_synth_on=!0,until_synth_noteoff=0,until_synth_noteoff_setting=0,div_arrayS=["a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","q2","r2","s2","t2","u2","v2","w2","x2","y2","z2","za2","zb2","zc2","zd2","ze2","zf2"],color_arrayS=["rgb(187, 187, 204)","rgb(251, 63, 0)","rgb(3, 137, 244)","rgb(226, 100, 137)","rgb(102, 153, 34)","rgb(0, 178, 162)","rgb(210, 151, 21)","rgb(148, 124, 255)","rgb(255, 232, 28)"],lfo_polyline_array=["0,100 25,0 50,100 75,0 100,100 125,0 150,100 175,0 200,100 225,0 250,100 275,0 300,100","0,0 25,100 50,0 75,100 100,0 125,100 150,0 175,100 200,0 225,100 250,0 275,100 300,0","0,100 12.5,100 12.5,0 37.5,0 37.5,100 62.5,100 62.5,0 87.5,0 87.5,100 112.5,100 112.5,0 137.5,0 137.5,100 162.5,100 162.5,0 187.5,0 187.5,100 212.5,100 212.5,0 237.5,0 237.5,100 262.5,100 262.5,0 287.5,0 287.5,100","0,0 12.5,0 12.5,100 37.5,100 37.5,0 62.5,0 62.5,100 87.5,100 87.5,0 112.5,0 112.5,100 137.5,100 137.5,0 162.5,0 162.5,100 187.5,100 187.5,0 212.5,0 212.5,100 237.5,100 237.5,0 262.5,0 262.5,100 287.5,100 287.5,0","0,100 50,0 50,100 100,0 100,100 150,0 150,100 200,0 200,100 250,0 250,100, 300,0 300,100","0,100 0,0 50,100 50,0 100,100 100,0 150,100 150,0 200,100 200,0 250,100 200,0 250,100 250,0 300,100 300,0"],lfo_icons_array=["","0,50 25,0 50,50","0,0 25,50 50,0","0,0 0,50 50,50 50,0","0,50 0,0 50,0 50,50","0,50 50,0 50,50","0,50 0,0 50,50"],adsr_icons_array=["","0,50 10,0 20,0 40,0 50,50","0,50 10,0 20,10 40,10 50,50","0,50 10,0 20,25 40,25 50,50","0,50 10,0 50,0","0,50 10,0 20,10 50,10","0,50 10,0 20,25 50,25"],arp_icons_array=["","x1","x2","x4","x8","/2","/4"],ah_icons_array=["","3","4","5","6","7","9"],osc_icons_array=["","+3","+2","+1","0","-1","-2"],scale_array={major:[0,0,2,4,5,7,9,11,12,14,16,17,19,21,23,24,26,28,29,31,33,35,36,38],minor:[0,0,2,3,5,7,8,10,12,14,15,17,19,20,22,24,26,27,29,31,32,34,36,38],dorian:[0,0,2,3,5,7,9,10,12,14,15,17,19,21,22,24,26,27,29,31,33,34,36,38],mixolydian:[0,0,2,4,5,7,9,10,12,14,16,17,19,21,22,24,26,28,29,31,33,34,36,38],phrygian:[0,0,1,3,5,7,8,10,12,13,15,17,19,20,22,24,25,27,29,31,32,34,36,37],lydian:[0,0,2,4,6,7,9,11,12,14,16,18,19,21,23,24,26,28,30,31,33,35,36,38]},letters_array=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"];Polymer({is:"synth-card",properties:{mode_selected:{type:Number,value:0,observer:"mode_selectedChanged"},filter_cutoff:{type:Number,value:45,observer:"filter_cutoffChanged"},reverb_setting:{type:Number,value:30,observer:"reverb_settingChanged"},scale_setting:{type:Number,value:30,observer:"scale_settingChanged"},lfo_stretch:{type:Number,value:0,observer:"lfo_stretchChanged"},x_pos:{type:Number,value:0,observer:"x_posChanged"},y_pos:{type:Number,value:0},lfo_selected:{type:Number,value:1,observer:"lfo_selectedChanged"}},REchange:function(t){this.reverb_setting=t.target.immediateValue},FCchange:function(t){this.filter_cutoff=t.target.immediateValue},SCchange:function(t){this.scale_setting=t.target.immediateValue},ready:function(){function t(){if(i.selected=o.selected,2==i.selected){a.xyheight=h.clientHeight,a.xywidth=h.clientWidth,a.ahinterval=a.xyheight/16,a.$.playline.style.height=a.xyheight,a.lfo_stretch=a.xywidth/6,a.ahstyle="width:"+a.xywidth+"px;height:"+a.xyheight+"px;",a.adsrstyle="width:"+a.xywidth+"px;height:"+a.xyheight+"px;";a.$.thingS;a.lfo_height=Synth.FX.lfo2*(a.xyheight/100),a.lfo_stretch=Synth.FX.lfo1*(a.xywidth/100),moddropChange(Synth.effect_selected)}a.not_show_spot(),o.removeEventListener("iron-select",t),window.setTimeout(e,501)}function e(){o.addEventListener("iron-select",t)}var s;s=document.createElement("drag-avatar"),document.body.appendChild(s),this.avatar=s;var i=this.$.innerpagesS,o=this.$.innertabsS,h=this.$.xy_bounderS,a=this;o.addEventListener("iron-select",t);var n=this.$.synth_container.querySelectorAll(".sS");Synth.id_yo=Array.prototype.slice.call(n,0),Synth.id_yo.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0});for(var l=0;l<Synth.id_yo.length;l++)Synth.id_yo[l].style.padding="0px";this.x_pos=0,this.y_pos=0},handleTrack:function(t){switch(this.stop_note(),t.detail.state){case"start":var e=window.getComputedStyle(t.target)["background-color"];this.avatar.style.cssText="display:block;border: 3px solid "+e+"; width: 15px; height: 15px; border-radius: 15px; background-color: whitesmoke; z-index: 9;";break;case"track":var s=t.detail.x,i=t.detail.y;this.avatar.style.transform=this.avatar.style.webkitTransform="translate("+s+"px, "+i+"px)";break;case"end":this.avatar.style.display="none";var e=window.getComputedStyle(t.target)["background-color"],o=t.detail.hover();e&&"sS"===o.classList[0]&&this.dropyo(e,o)}},dropyo:function(t,e){var s=e.id,i=div_arrayS.indexOf(s);e.style.background=t,Synth.synth_array[i]=color_arrayS.indexOf(t)},spot:1,spot_circle:null,spot_circle_selected:!1,show_spot:function(t){1==this.spot_circle_selected&&(this.spot_circle.style.boxShadow="2px 2px 10px #444"),this.spot_circle_selected=!0,this.spot_circle=t.target,this.spot_circle.style.boxShadow="0 0 2pt 1pt black",this.spot=div_arrayS.indexOf(t.target.id)+1,this.$.innertabsS.selected=3,this.$.innerpagesS.selected=3,this.spot_octave_ui=Synth.spotOctave[this.spot-1]},not_show_spot:function(){1==this.spot_circle_selected&&(this.spot_circle.style.boxShadow="2px 2px 10px #444"),this.spot_circle_selected=!1},spot_octave_ui:0,octave_add:function(){Synth.spotOctave[this.spot-1]<3&&(Synth.spotOctave[this.spot-1]=Synth.spotOctave[this.spot-1]+1,this.spot_octave_ui=Synth.spotOctave[this.spot-1])},octave_subtract:function(){Synth.spotOctave[this.spot-1]>-3&&(Synth.spotOctave[this.spot-1]=Synth.spotOctave[this.spot-1]-1,this.spot_octave_ui=Synth.spotOctave[this.spot-1])},dragEnd:function(){1==Beats.not_playing&&this.stop_note()},sample_pitch:50,sample_pitch_proxy:50,sample_level:50,sample_level_proxy:50,base_note:48,scale:[0,0,2,4,5,7,9,11,12,14,16,17,19,21,23,24,26,28,29,31,33,35,36,38],last_note_played:null,last_note_played2:null,last_note_played3:null,last_note_played4:null,stop_note:function(){_S.noteOff(this.last_note_played),0!=Synth.MOD.ah[0]&&_S.noteOff(this.last_note_played2),0!=Synth.MOD.ah[1]&&_S.noteOff(this.last_note_played3),0!=Synth.MOD.ah[2]&&_S.noteOff(this.last_note_played4)},hear_a_note:function(){this.stop_note(),this.play_voice(1)},play_a_note:function(t){if(this.stop_note(),this.play_voice(t),1==Main.is_rec){var e=Beats.setting;e==-1&&(e=31),Synth.synth_array[e]=t,Synth.id_yo[e].style.backgroundColor=color_arrayS[t]}},play_note1:function(){this.play_a_note(1)},play_note2:function(){this.play_a_note(2)},play_note3:function(){this.play_a_note(3)},play_note4:function(){this.play_a_note(4)},play_note5:function(){this.play_a_note(5)},play_note6:function(){this.play_a_note(6)},play_note7:function(){this.play_a_note(7)},play_note8:function(){this.play_a_note(8)},play_voice:function(t){var e=0;0==Beats.not_playing&&(e=12*Synth.spotOctave[Synth.setting]);var s=this.base_note+e+this.scale[t]+12*(3-_S.Octave);_S.noteOn(s,.75),this.last_note_played=s,0!=Synth.MOD.ah[0]&&(note2=this.base_note+e+this.scale[t-1+Synth.MOD.ah[0]]+12*(3-_S.Octave),_S.noteOn(note2,.65),this.last_note_played2=note2),0!=Synth.MOD.ah[1]&&(note3=this.base_note+e+this.scale[t-1+Synth.MOD.ah[1]]+12*(3-_S.Octave),_S.noteOn(note3,.55),this.last_note_played3=note3),0!=Synth.MOD.ah[2]&&(note4=this.base_note+e+this.scale[t-1+Synth.MOD.ah[2]]+12*(3-_S.Octave),_S.noteOn(note4,.45),this.last_note_played4=note4)},play_note:function(){var t=this.$.playline;t.style.transition="margin-left 0s linear",t.style.webkitTransition="margin-left 0s linear",t.style.marginLeft="0%",go=function(){t.style.transition="margin-left 2s linear",t.style.webkitTransition="margin-left 2s linear",t.style.marginLeft="100%"},window.setTimeout(go,6)},mode_selectedChanged:function(){if("lfo"==Synth.effect_selected)this.lfo_selected=this.mode_selected+1;else if("arp"==Synth.effect_selected)this.arp_selected=this.mode_selected+1;else if("ah"==Synth.effect_selected){this.ah_selected=this.mode_selected+1;this.$.ahline1,this.$.ahline2;this.ahColors(!1)}else if("adsr"==Synth.effect_selected)this.adsr_selected=this.mode_selected+1,0==this.mode_selected?(this.sustain=100,this.blahblah=290,until_synth_on=!0):1==this.mode_selected?(this.sustain=60,this.blahblah=290,until_synth_on=!0):2==this.mode_selected?(this.sustain=20,this.blahblah=290,until_synth_on=!0):3==this.mode_selected?(this.sustain=100,this.blahblah=500,until_synth_on=!1):4==this.mode_selected?(this.sustain=60,this.blahblah=500,until_synth_on=!1):5==this.mode_selected&&(this.sustain=20,this.blahblah=500,until_synth_on=!1),this.adsrupdate(this),_S.onEnvS(this.sustain),_S.onFilterEnvS(this.sustain);else if("osc1"==Synth.effect_selected){this.osc1_selected=this.mode_selected+1;var t=5-this.mode_selected-1;Synth.osc1Octave=t,_S.onOsc1Octave(t)}else if("osc2"==Synth.effect_selected){this.osc2_selected=this.mode_selected+1;var t=5-this.mode_selected-1;_S.onOsc2Octave(t)}},lfo_selectedChanged:function(){var t=this.$.lfopolyline;t.setAttribute("points",lfo_polyline_array[this.lfo_selected-1]);var e=0;1==this.lfo_selected?e=0:2==this.lfo_selected?e=0:3==this.lfo_selected?e=1:4==this.lfo_selected?e=1:5==this.lfo_selected?e=2:6==this.lfo_selected&&(e=2),_S.onModWaveform(_S.oscwaves[e])},ahColors:function(t){1==this.ah_selected?(this.ahlineNote1=this.ahThirds[this.ah_y][this.ah_x][0],this.ahlineNote2=this.ahThirds[this.ah_y][this.ah_x][1],this.ahlineNote3=this.ahThirds[this.ah_y][this.ah_x][2]):2==this.ah_selected?(this.ahlineNote1=this.ahFourths[this.ah_y][this.ah_x][0],this.ahlineNote2=this.ahFourths[this.ah_y][this.ah_x][1],this.ahlineNote3=this.ahFourths[this.ah_y][this.ah_x][2]):3==this.ah_selected?(this.ahlineNote1=this.ahFifths[this.ah_y][this.ah_x][0],this.ahlineNote2=this.ahFifths[this.ah_y][this.ah_x][1],this.ahlineNote3=this.ahFifths[this.ah_y][this.ah_x][2]):4==this.ah_selected?(this.ahlineNote1=this.ahSixths[this.ah_y][this.ah_x][0],this.ahlineNote2=this.ahSixths[this.ah_y][this.ah_x][1],this.ahlineNote3=this.ahSixths[this.ah_y][this.ah_x][2]):5==this.ah_selected?(this.ahlineNote1=this.ahSevenths[this.ah_y][this.ah_x][0],this.ahlineNote2=this.ahSevenths[this.ah_y][this.ah_x][1],this.ahlineNote3=this.ahSevenths[this.ah_y][this.ah_x][2]):6==this.ah_selected&&(this.ahlineNote1=this.ahNinths[this.ah_y][this.ah_x][0],this.ahlineNote2=this.ahNinths[this.ah_y][this.ah_x][1],this.ahlineNote3=this.ahNinths[this.ah_y][this.ah_x][2]),this.$.ahsvg.childNodes[3].setAttribute("y1",200-12.5*this.ahlineNote1),this.$.ahsvg.childNodes[3].setAttribute("y2",200-12.5*this.ahlineNote1),this.$.ahsvg.childNodes[3].setAttribute("stroke",this.color_arrayS[this.ahlineNote1].toString()),this.$.ahsvg.childNodes[5].setAttribute("y1",200-12.5*this.ahlineNote2),this.$.ahsvg.childNodes[5].setAttribute("y2",200-12.5*this.ahlineNote2),this.$.ahsvg.childNodes[5].setAttribute("stroke",this.color_arrayS[this.ahlineNote2].toString()),this.$.ahsvg.childNodes[7].setAttribute("y1",200-12.5*this.ahlineNote3),this.$.ahsvg.childNodes[7].setAttribute("y2",200-12.5*this.ahlineNote3),this.$.ahsvg.childNodes[7].setAttribute("stroke",this.color_arrayS[this.ahlineNote3].toString()),Synth.MOD.ah[0]=this.ahlineNote1,Synth.MOD.ah[1]=this.ahlineNote2,Synth.MOD.ah[2]=this.ahlineNote3,1==t&&(0==Synth.MOD.ah[0]&&_S.noteOff(this.last_note_played2),0==Synth.MOD.ah[1]&&_S.noteOff(this.last_note_played3),0==Synth.MOD.ah[2]&&_S.noteOff(this.last_note_played4))},ahThirds:[[[0,0,0],[3,0,0],[2,3,0],[3,5,0],[3,5,7]],[[0,0,0],[10,0,0],[5,10,0],[10,12,0],[5,7,10]],[[0,0,0],[6,0,0],[4,6,0],[6,4,0],[6,4,2]]],ahFourths:[[[0,0,0],[4,0,0],[2,4,0],[4,6,0],[4,6,8]],[[0,0,0],[11,0,0],[6,11,0],[11,13,0],[6,9,11]],[[0,0,0],[5,0,0],[6,5,0],[5,3,0],[5,3,1]]],ahFifths:[[[0,0,0],[5,0,0],[3,5,0],[5,7,0],[5,7,9]],[[0,0,0],[12,0,0],[7,12,0],[12,14,0],[7,10,12]],[[0,0,0],[4,0,0],[6,4,0],[4,2,0],[4,2,7]]],ahSixths:[[[0,0,0],[6,0,0],[3,6,0],[6,8,0],[6,8,10]],[[0,0,0],[13,0,0],[5,13,0],[10,13,0],[5,10,13]],[[0,0,0],[3,0,0],[6,3,0],[3,1,0],[3,1,6]]],ahSevenths:[[[0,0,0],[7,0,0],[3,7,0],[7,9,0],[3,7,9]],[[0,0,0],[14,0,0],[9,14,0],[10,14,0],[10,12,14]],[[0,0,0],[2,0,0],[6,2,0],[2,7,0],[6,2,7]]],ahNinths:[[[0,0,0],[9,0,0],[5,9,0],[4,9,0],[4,5,9]],[[0,0,0],[16,0,0],[12,16,0],[11,16,0],[5,11,16]],[[0,0,0],[7,0,0],[4,7,0],[5,7,0],[5,4,7]]],ahlineNote1:0,ahlineNote2:0,ahlineNote3:0,color_arrayS:["rgb(187, 187, 204)","rgb(251, 63, 0)","rgb(3, 137, 244)","rgb(226, 100, 137)","rgb(102, 153, 34)","rgb(0, 178, 162)","rgb(210, 151, 21)","rgb(148, 124, 255)","rgb(255, 232, 28)","rgb(3, 137, 244)","rgb(226, 100, 137)","rgb(102, 153, 34)","rgb(0, 178, 162)","rgb(210, 151, 21)","rgb(148, 124, 255)","rgb(255, 232, 28)","rgb(3, 137, 244)","rgb(226, 100, 137)","rgb(102, 153, 34)","rgb(0, 178, 162)","rgb(210, 151, 21)","rgb(148, 124, 255)"],scale_settingChanged:function(){1==Main.ready&&(this.scale_setting_numbers=Math.round(this.scale_setting/9.09),this.scale_setting_letters=letters_array[this.scale_setting_numbers],this.base_note=45+this.scale_setting_numbers,Synth.base_note=this.base_note)},scale_setting_numbers:0,scale_setting_letters:"C",filter_cutoffChanged:function(){if(1==Main.ready){var t=40,e=22050,s=Math.log(e/t)/Math.LN2;Math.pow(2,s*(this.filter_cutoff/100-1));_S.FilterCutoff=this.filter_cutoff,_S.onFilterCutoff(_S.FilterCutoff)}},reverb_settingChanged:function(){1==Main.ready&&(0==this.reverb_setting&&1==Synth.reverb_on?(Synth.wetGainNode.disconnect(),Synth.reverb_on=!1):0!=this.reverb_setting&&1==Synth.reverb_on||(Synth.wetGainNode.connect(Synth.convolver_yo),Synth.reverb_on=!0),Synth.reverbSetting=this.reverb_setting,Synth.dryGainNode.gain.value=1-Synth.reverbSetting/100,Synth.wetGainNode.gain.value=Synth.reverbSetting/100)},adsrupdate:function(t){var e=t.attack+25,s=t.blahblah-2*t.decay;s<e&&(s=e),t.$.adsrsvg.childNodes[0].setAttribute("points","0,200 "+t.attack+",3 "+e+","+(203-2*t.sustain)+" "+s+","+(203-2*t.sustain)+" 300,200")},getClickPosition:function(t){t.preventDefault();var e=getPosition(t.target.parentNode);"polyline"==t.target.tagName||"line"==t.target.tagName?e=getPosition(t.target.parentNode.parentNode):"xyS"==t.target.id&&(e=getPosition(t.target));var s=t.detail.x-e.x,i=t.detail.y-e.y;s=Math.max(Math.min(s,this.xywidth),0),i=Math.max(Math.min(i,this.xyheight),0),console.log(s,i);var o=(s-this.xywidth)*(100/this.xywidth)+100,h=(this.xyheight-i)*(100/this.xyheight);switch(t.type){case"up":this.$.thingS.style.transition="left .2s ease-in, top .2s ease-in",sc.play_note(),sc.stop_note();break;case"track":this.$.thingS.style.transition="left 0s ease-in, top 0s ease-in"}this.$.thingS.style.left=s-12+"px",this.$.thingS.style.top=i-10+"px";var a=sc.xyheight,n=sc.xywidth;sc.mode_selected+1;if("lfo"==Synth.effect_selected)sc.x_pos=Math.round(o),sc.y_pos=Math.round(h),sc.lfo_height=h*(a/100),sc.lfo_stretch=o*(n/100),Synth.FX.lfo1=Math.round(o),Synth.FX.lfo2=Math.round(h),_S.onModFrequency(Math.round(102-o)),_S.onFilterMod(Math.round(2*h));else if("arp"==Synth.effect_selected)sc.arpnote=Math.round(o/13.5),sc.x_pos=sc.arpnote+1,sc.arp[sc.arpnote]=200-2*h,sc.y_pos=Math.round(h/12.5);else if("ah"==Synth.effect_selected)xgo=Math.round(o/25+1),sc.ah_x=xgo-1,4==xgo&&(xgo=3),5==xgo&&(xgo=4),ygo=Math.round(h/50),sc.ah_y=ygo,2==ygo?(ygo=-1,sc.$.ahsvg.childNodes[1].setAttribute("y1","10"),sc.$.ahsvg.childNodes[1].setAttribute("y2","10")):(sc.$.ahsvg.childNodes[1].setAttribute("y1","194"),sc.$.ahsvg.childNodes[1].setAttribute("y2","194")),sc.x_pos=xgo,sc.y_pos=ygo,sc.ahShuffle(xgo,ygo),sc.ahColors(!0),Synth.FX.ah1=Math.round(o),Synth.FX.ah2=Math.round(h);else if("adsr"==Synth.effect_selected)sc.x_pos=Math.round(o),sc.y_pos=Math.round(h),sc.decay=sc.x_pos,sc.attack=sc.y_pos,sc.adsrupdate(sc),_S.onEnvA(Math.round(sc.attack/10)),_S.onEnvR(sc.decay+1),until_synth_noteoff_setting=Math.round(sc.attack/25)*-1,_S.onFilterEnvA(Math.round(sc.attack/10)),_S.onFilterEnvR(sc.decay+1),Synth.FX.adsr1=Math.round(o),Synth.FX.adsr2=Math.round(h);else if("osc1"==Synth.effect_selected){var l=Math.round(o/33),c="hi",d="hi";0==l?(c="tri",d="triangle"):1==l?(c="sqr",d="square"):2==l?(c="saw",d="sawtooth"):3==l&&(c="sin",d="sine"),sc.x_pos=c,sc.y_pos=Math.round(h),_S.onOsc1Wave(d),_S.onOsc1Mix(100-sc.y_pos),Synth.FX.osc1wave=Math.round(o),Synth.FX.osc1fade=sc.y_pos}else if("osc2"==Synth.effect_selected){var l=Math.round(o/33),c="hi",d="hi";0==l?(c="tri",d="triangle"):1==l?(c="sqr",d="square"):2==l?(c="saw",d="sawtooth"):3==l&&(c="sin",d="sine"),sc.x_pos=c,sc.y_pos=Math.round(h),_S.onOsc2Wave(d),_S.onOsc2Mix(100-sc.y_pos),Synth.FX.osc2wave=Math.round(o),Synth.FX.osc2fade=sc.y_pos}sc.play_note()},lfo_height:0,lfo_stretchChanged:function(){this.lfo_stretch<this.xywidth/6&&(this.lfo_stretch=this.xywidth/6),this.lfostyle="width:"+6*this.lfo_stretch+"px;height:"+this.lfo_height+"px;margin-top:"+(this.xyheight-this.lfo_height)+"px;"},arp_selected:1,ah_selected:1,adsr_selected:1,osc1_selected:4,osc2_selected:4,ah_x:1,ah_y:0,arp:[0,0,0,0,0,0,0,0],arpnote:0,arpChanged:function(){this.arp_color[this.arpnote]=color_arrayS[this.y_pos]},arp_color:["#bbc","#bbc","#bbc","#bbc","#bbc","#bbc","#bbc","#bbc"],ahcolor:"rgb(226, 100, 137)",ahcolor2:"black",ahinterval:0,decay:0,attack:0,sustain:100,blahblah:290,ahShuffle:function(t,e){var s=this.$.ahline1,i=this.$.ahline2,o=this.$.ahline3;1==t?(s.style.display="none",i.style.display="none",o.style.display="none"):2==t?(s.style.display="block",i.style.display="none",o.style.display="none"):3==t||3.1==t?(s.style.display="block",i.style.display="block",o.style.display="none"):4==t&&(s.style.display="block",i.style.display="block",o.style.display="block")},x_posChanged:function(){var t=this.$.fxxpolyline;this.x_pos<0?t.setAttribute("points","45.63,20.375 0.375,58.087 45.63,95.8"):t.setAttribute("points","0.375,20.375 45.63,58.087 0.375,95.8")},y_posChanged:function(){},fxui1_click:function(){var t=sc.$.thingS;sc.x_pos=0,t.style.transition="left .2s ease-in, top .2s ease-in","lfo"==Synth.effect_selected?(sc.lfo_stretch=0,Synth.FX.lfo1=0,_S.onModFrequency(102)):"arp"==Synth.effect_selected?(sc.y_pos=0,sc.arp[sc.arpnote]=200):"ah"==Synth.effect_selected?(Synth.FX.ah1=0,sc.ah_x=0,sc.ahShuffle(1,sc.ah_y),sc.ahColors(!0)):"adsr"==Synth.effect_selected?(Synth.FX.adsr1=0,_S.onEnvA(5),until_synth_noteoff_setting=0,_S.onFilterEnvA(5)):"osc1"==Synth.effect_selected?(Synth.FX.osc1wave=0,_S.onOsc1Wave("triangle")):"osc2"==Synth.effect_selected&&(Synth.FX.osc2wave=0,_S.onOsc2Wave("triangle")),t.style.left=scaleToXS(0)+"px"},fxui2_click:function(){var t=sc.$.thingS;sc.mode_selected+1;if(sc.y_pos=0,"lfo"==Synth.effect_selected)sc.lfo_height=0,Synth.FX.lfo2=0,_S.onFilterMod(0),sc.lfo_stretchChanged();else if("arp"==Synth.effect_selected)for(var e=0;e<9;e++)sc.arp[e]=200,sc.arp_color[e]="#bbc";else"ah"==Synth.effect_selected?(Synth.FX.ah2=0,sc.ah_y=0,sc.ahColors(!1),sc.$.ahsvg.childNodes[1].setAttribute("y1","194"),sc.$.ahsvg.childNodes[1].setAttribute("y2","194")):"adsr"==Synth.effect_selected?(Synth.FX.adsr2=0,_S.onEnvR(10),_S.onFilterEnvR(10)):"osc1"==Synth.effect_selected?(Synth.FX.osc1fade=0,_S.onOsc1Mix(100)):"osc2"==Synth.effect_selected&&(Synth.FX.osc2fade=0,_S.onOsc2Mix(100));t.style.transition="left .2s ease-in, top .2s ease-in",t.style.top=scaleToYS(0)+"px"}});</script>

</dom-module>
</body></html>